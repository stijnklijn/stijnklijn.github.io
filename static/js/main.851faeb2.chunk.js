(this.webpackJsonpxpensoft=this.webpackJsonpxpensoft||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(22),r=n.n(c),s=(n(29),n(12)),d=n(15),i=n(18),o=n(24),j=n(5),l=(n(30),n(14)),u=n(2),h=n(0);function b(e){var t=e.headers,n=e.id,a=e.date,c=e.description,r=e.header,s=e.amount,d=e.removeEntry;return Object(h.jsxs)("tr",{className:"Entry",children:[Object(h.jsx)("td",{className:"column-date",children:a.substring(8,10)+"-"+a.substring(5,7)+"-"+a.substring(0,4)}),Object(h.jsx)("td",{className:"column-description",children:c}),Object(h.jsx)("td",{className:"column-header",children:r}),Object(h.jsxs)("td",{className:t[r]>0?"column-amount in":"column-amount out",children:["\u20ac ",s.toFixed(2)]}),Object(h.jsx)("td",{className:"column-remove",children:Object(h.jsx)("button",{onClick:function(){d(n)},children:"\xd7"})})]})}function m(e){var t=e.entries,n=e.headers,a=e.date,c=e.setDate,r=e.description,s=e.setDescription,d=e.header,i=e.setHeader,o=e.amount,j=e.setAmount,l=e.addEntry,u=e.removeEntry;return Object(h.jsx)("div",{className:"EntryList",children:Object(h.jsxs)("table",{children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"column-date",children:"Date"}),Object(h.jsx)("th",{className:"column-description",children:"Description"}),Object(h.jsx)("th",{className:"column-header",children:"Header"}),Object(h.jsx)("th",{className:"column-amount",children:"Amount"}),Object(h.jsx)("th",{className:"column-remove"})]})}),Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:"column-date",children:Object(h.jsx)("input",{type:"date",onChange:function(e){return c(e.target.value)}})}),Object(h.jsx)("td",{className:"column-description",children:Object(h.jsx)("input",{type:"text",value:r,onChange:function(e){return s(e.target.value)}})}),Object(h.jsx)("td",{className:"column-header",children:Object(h.jsxs)("select",{value:d,onChange:function(e){return i(e.target.value)},children:[Object(h.jsx)("option",{value:""},"-1"),Object.keys(n).sort().map((function(e,t){return Object(h.jsx)("option",{value:e,children:e},t)}))]})}),Object(h.jsx)("td",{className:"column-amount",children:Object(h.jsx)("input",{type:"number",value:o,onChange:function(e){return j(Number(e.target.value))}})}),Object(h.jsx)("td",{className:"column-remove",children:Object(h.jsx)("button",{onClick:function(){l(a,r,d,o)},children:"+"})})]}),t.map((function(e,t){return Object(h.jsx)(b,{headers:n,id:e.id,date:e.date,description:e.description,header:e.header,amount:e.amount,removeEntry:u},t)}))]})]})})}function O(e){var t=e.entries,n=e.headers,a=e.date,c=e.setDate,r=e.description,s=e.setDescription,d=e.header,i=e.setHeader,o=e.amount,j=e.setAmount,l=e.addEntry,u=e.removeEntry;return Object(h.jsxs)("div",{className:"Entries",children:[Object(h.jsx)(m,{entries:t,headers:n,date:a,setDate:c,description:r,setDescription:s,header:d,setHeader:i,amount:o,setAmount:j,addEntry:l,removeEntry:u}),Object(h.jsx)("hr",{}),Object(h.jsx)("br",{})]})}function x(e){var t=e.inout,n=e.calculate,a=e.addHeader,c=e.newHeaderIn,r=e.setNewHeaderIn,s=e.newHeaderOut,d=e.setNewHeaderOut,i=e.removeHeader,o=e.showEmpty,l=n(),u=Object(j.a)(l,2),b=u[0],m=u[1];function O(e){i(e.target.value)}return Object(h.jsx)("div",{className:"Inout",children:Object(h.jsxs)("table",{children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"column-header",children:"Header"}),Object(h.jsx)("th",{className:"column-amount",children:"Amount"}),Object(h.jsx)("th",{className:"column-percentage",children:"%"}),Object(h.jsx)("th",{className:"column-remove"})]})}),Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:"column-header",children:Object(h.jsx)("input",{type:"text",value:"in"===t?c:s,onChange:function(e){return"in"===t?r(e.target.value):d(e.target.value)}})}),Object(h.jsx)("td",{className:"column-amount"}),Object(h.jsx)("td",{className:"column-percentage"}),Object(h.jsx)("td",{className:"column-remove",children:Object(h.jsx)("button",{onClick:function(){a("in"===t?c:s,"in"===t?1:-1),"in"===t?r(""):d("")},children:"+"})})]}),Object.entries(b).sort().map((function(e,n){return(e[1]>0||o)&&Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:"column-header",children:e[0]}),Object(h.jsxs)("td",{className:"column-amount "+t,children:["\u20ac ",e[1].toFixed(2)]}),Object(h.jsx)("td",{className:"column-percentage",children:m>0?(e[1]/m*100).toFixed(0):0}),Object(h.jsx)("td",{className:"column-remove",children:Object(h.jsx)("button",{value:e[0],onClick:O,children:"\xd7"})})]},n)})),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:"column-header",children:Object(h.jsx)("b",{children:"Total"})}),Object(h.jsx)("td",{className:"column-amount "+t,children:Object(h.jsxs)("b",{children:["\u20ac ",m.toFixed(2)]})}),Object(h.jsx)("td",{className:"column-percentage",children:m>0?100:0}),Object(h.jsx)("th",{className:"column-remove"})]})]})]})})}function v(e){var t=e.entries,n=e.headers,a=e.fromDate,c=e.setFromDate,r=e.toDate,d=e.setToDate,i=e.addHeader,o=e.newHeaderIn,j=e.setNewHeaderIn,l=e.newHeaderOut,u=e.setNewHeaderOut,b=e.removeHeader,m=e.showEmpty,O=e.setShowEmpty;function v(){var e=t.filter((function(e){return e.date>=a&&e.date<=r}));return e.length?e.map((function(e){return e.amount*n[e.header]})).reduce((function(e,t){return e+t})):0}return Object(h.jsxs)("div",{className:"Analysis",children:[Object(h.jsx)("h2",{children:"Select period"}),Object(h.jsx)("label",{htmlFor:"from",children:"From:"}),Object(h.jsx)("input",{type:"date",id:"from",value:a,onChange:function(e){return c(e.target.value)}}),Object(h.jsx)("label",{htmlFor:"to",children:"To:"}),Object(h.jsx)("input",{type:"date",id:"to",value:r,onChange:function(e){return d(e.target.value)}}),Object(h.jsx)("label",{htmlFor:"empty",children:"Show empty headers: "}),Object(h.jsx)("input",{type:"checkbox",id:"empty",defaultChecked:m,onChange:function(e){O(!m)}}),Object(h.jsx)("hr",{}),Object(h.jsx)("h2",{children:"Net result"}),Object(h.jsxs)("h3",{className:v()<0?"neg":"pos",children:["\u20ac ",v().toFixed(2)]}),Object(h.jsx)("hr",{}),Object(h.jsx)("h2",{children:"Income"}),Object(h.jsx)(x,{inout:"in",calculate:function(){var e=0,c={};for(var d in n)1===n[d]&&(c[d]=0);var i=t.filter((function(e){return e.date>=a&&e.date<=r}));if(!i.length)return[c,0];var o,j=Object(s.a)(i);try{for(j.s();!(o=j.n()).done;){var l=o.value;l.header in c&&(c[l.header]+=l.amount,e+=l.amount)}}catch(u){j.e(u)}finally{j.f()}return[c,e]},addHeader:i,newHeaderIn:o,setNewHeaderIn:j,removeHeader:b,showEmpty:m}),Object(h.jsx)("hr",{}),Object(h.jsx)("h2",{children:"Expenses"}),Object(h.jsx)(x,{inout:"out",calculate:function(){var e=0,c={};for(var d in n)-1===n[d]&&(c[d]=0);var i=t.filter((function(e){return e.date>=a&&e.date<=r}));if(!i.length)return[c,0];var o,j=Object(s.a)(i);try{for(j.s();!(o=j.n()).done;){var l=o.value;l.header in c&&(c[l.header]+=l.amount,e+=l.amount)}}catch(u){j.e(u)}finally{j.f()}return[c,e]},addHeader:i,newHeaderOut:l,setNewHeaderOut:u,removeHeader:b,showEmpty:m}),Object(h.jsx)("hr",{}),Object(h.jsx)("br",{})]})}var p=function(){var e,t=Object(a.useState)([]),n=Object(j.a)(t,2),c=n[0],r=n[1],b=Object(a.useState)({}),m=Object(j.a)(b,2),x=m[0],p=m[1],f=Object(a.useState)(null),N=Object(j.a)(f,2),y=N[0],g=N[1],w=Object(a.useState)(""),H=Object(j.a)(w,2),D=H[0],E=H[1],S=Object(a.useState)(""),C=Object(j.a)(S,2),F=C[0],I=C[1],k=Object(a.useState)(""),A=Object(j.a)(k,2),T=A[0],M=A[1],Y=Object(a.useState)(""),J=Object(j.a)(Y,2),L=J[0],B=J[1],U=Object(a.useState)(""),q=Object(j.a)(U,2),z=q[0],G=q[1],K=[31,(e=(new Date).getFullYear(),e%400===0||e%4===0&&e%100!==0?29:28),31,30,31,30,31,31,30,31,30,31],P=Object(a.useState)("".concat((new Date).getFullYear(),"-").concat(String((new Date).getMonth()+1).padStart(2,"0"),"-01")),Q=Object(j.a)(P,2),R=Q[0],V=Q[1],W=Object(a.useState)("".concat((new Date).getFullYear(),"-").concat(String((new Date).getMonth()+1).padStart(2,"0"),"-").concat(K[(new Date).getMonth()])),X=Object(j.a)(W,2),Z=X[0],$=X[1],_=Object(a.useState)(!0),ee=Object(j.a)(_,2),te=ee[0],ne=ee[1];return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)("nav",{children:[Object(h.jsx)(l.b,{to:"/entries",activeClassName:"active",children:"Entries"}),Object(h.jsx)(l.b,{to:"/analysis",activeClassName:"active",children:"Analysis"})]}),Object(h.jsx)("main",{children:Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.b,{exact:!0,path:"/",children:Object(h.jsx)(u.a,{to:"/entries"})}),Object(h.jsx)(u.b,{path:"/entries",children:Object(h.jsx)(O,{entries:c,headers:x,date:y,setDate:g,description:D,setDescription:E,header:F,setHeader:I,amount:T,setAmount:M,addEntry:function(e,t,n,a){e&&t&&n&&!(a<=0)&&(r((function(c){return[{id:Date.now(),date:e,description:t,header:n,amount:a}].concat(Object(o.a)(c)).sort((function(e,t){return e.date<t.date?1:e.date>t.date?-1:0}))})),E(""),I(""),M(""))},removeEntry:function(e){r((function(t){return t.filter((function(t){return t.id!==e}))}))}})}),Object(h.jsx)(u.b,{path:"/analysis",children:Object(h.jsx)(v,{entries:c,headers:x,fromDate:R,setFromDate:V,toDate:Z,setToDate:$,addHeader:function(e,t){e&&((e=e.substring(0,1).toUpperCase()+e.substring(1).toLowerCase())in x?alert("Header already exists"):p((function(n){return Object(i.a)(Object(i.a)({},n),{},Object(d.a)({},e,t))})))},newHeaderIn:L,setNewHeaderIn:B,newHeaderOut:z,setNewHeaderOut:G,removeHeader:function(e){var t,n=Object.assign({},x),a=Object(s.a)(c);try{for(a.s();!(t=a.n()).done;){if(t.value.header===e)return void alert("There are still entries with that header")}}catch(r){a.e(r)}finally{a.f()}delete n[e],p(n)},showEmpty:te,setShowEmpty:ne})})]})})]})};r.a.render(Object(h.jsx)(l.a,{children:Object(h.jsx)(p,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.851faeb2.chunk.js.map